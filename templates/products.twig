{% extends "_layouts/main" %}
{% block content %}
    <div class="shop">
        <div class="page-title">
        <h1>All products</h1>
        </div>
        <div class="shop-control-bar">
        <select class="custom-select" id="sortSelect">
            <option value="0">Sort by</option>
            <option value="1">Price: low to high</option>
            <option value="2">Price: high to low</option>
        </select>
        </div>
        <div class="shop-container" id="productContainer">
            {% set entries = craft.entries().section('products').search(query).all() %}
            {% if entries|length %}
                {% for entry in entries %}
                    <div class="product">
                        {% set productImage = entry.productImage.one() %}
                        {% if productImage %}
                            <img src="{{ productImage.getUrl('imagePreview') }}" alt="{{ entry.title }}">
                        {% endif %}
                        <h2>{{ entry.title }}</h2>
                        <p>â‚¬ {{ entry.productPrice }}</p>
                        <button>Add to cart</button>
                    </div>
                {% endfor %}
            {% else %}
                No results
            {% endif %}
        </div>
    </div>
{% endblock %}